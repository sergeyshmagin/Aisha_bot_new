# üöÄ –ë–´–°–¢–†–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï WEBHOOK FAL AI

## üéØ –¶–ï–õ–¨
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ webhook —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –æ–∂–∏–¥–∞–Ω–∏—è (1-2 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 15-30 –º–∏–Ω—É—Ç).

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û
1. **–ö–†–ò–¢–ò–ß–ù–û:** Webhook URL —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ FAL AI
2. **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è (1 —à–∞–≥/–∏—Ç–µ—Ä–∞—Ü–∏—è)

## üß™ –ë–´–°–¢–†–´–ô –¢–ï–°–¢

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```bash
cd /opt/aisha-backend
python test_webhook_config.py
python test_training_settings.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ì–û–¢–û–í–û –ö –ë–´–°–¢–†–û–ú–£ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ!
   –û–±—É—á–µ–Ω–∏–µ –∑–∞–π–º–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
   Webhook –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞
- –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ 10+ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ

### 3. –û–∂–∏–¥–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚è±Ô∏è **–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è:** 1-2 –º–∏–Ω—É—Ç—ã (–≤–º–µ—Å—Ç–æ 15-30)
- üì± **–û–∂–∏–¥–∞–µ–º–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:** "–í–∞—à –∞–≤–∞—Ç–∞—Ä –≥–æ—Ç–æ–≤!"
- üìä **–°—Ç–∞—Ç—É—Å –≤ –ë–î:** COMPLETED

### 4. ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
python restore_training_config.py
```

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú

### –ï—Å–ª–∏ webhook –Ω–µ –ø—Ä–∏—à–µ–ª:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ API —Å–µ—Ä–≤–µ—Ä–∞
sudo journalctl -u aisha-api.service -f

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—É—á–µ–Ω–∏—è
python check_training_requests.py

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π API
python test_local_webhook.py
```

### –ï—Å–ª–∏ –æ–±—É—á–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python test_webhook_config.py

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –Ω–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
echo $AVATAR_TEST_MODE  # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ false
```

## üìù –í–†–ï–ú–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

**–§–∞–π–ª:** `app/core/config.py`

```python
# –ë–´–õ–û:
FAL_PORTRAIT_STEPS = 1000
FAL_PRO_ITERATIONS = 500
FAL_PRESET_BALANCED = {
    "portrait": {"steps": 1000},
    "general": {"iterations": 500}
}

# –°–¢–ê–õ–û (–í–†–ï–ú–ï–ù–ù–û):
FAL_PORTRAIT_STEPS = 1
FAL_PRO_ITERATIONS = 1  
FAL_PRESET_BALANCED = {
    "portrait": {"steps": 1},
    "general": {"iterations": 1}
}
```

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø

1. **–ù–ï –ó–ê–ë–£–î–¨–¢–ï** –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!
2. **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
3. **–ö–ê–ß–ï–°–¢–í–û** –æ–±—É—á–µ–Ω–∏—è —Å 1 —à–∞–≥–æ–º –±—É–¥–µ—Ç –æ—á–µ–Ω—å –Ω–∏–∑–∫–∏–º

## üéâ –£–°–ü–ï–®–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ Webhook –ø—Ä–∏—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã
2. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. ‚úÖ –°—Ç–∞—Ç—É—Å –∞–≤–∞—Ç–∞—Ä–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ COMPLETED
4. ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å `input: null` —Ä–µ—à–µ–Ω–∞

**–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!** 