# üöÄ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ Aisha

## üì¶ Docker Compose —Ñ–∞–π–ª—ã

### –ü—Ä–æ–¥–∞–∫—à–Ω
- `docker-compose.bot.simple.yml` - **–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–¥–∞–∫—à–Ω —Ñ–∞–π–ª**
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç aisha-bot-primary (polling) + aisha-worker-1 (background tasks)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Docker volumes –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
  - –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º (PostgreSQL, Redis, MinIO)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `docker-compose.bot.local.yml` - **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
  - –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–∏—Å–∞–º
  - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ volumes

## üìú –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### –ü—Ä–æ–¥–∞–∫—à–Ω –æ–ø–µ—Ä–∞—Ü–∏–∏
- `scripts/production/deploy-fixed-bot.sh` - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –±–æ—Ç–∞
- `scripts/production/monitor-errors.sh` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- `scripts/production/check-transcription.sh` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- `scripts/production/restart-with-logs.sh` - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- `scripts/production/setup-logging.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- `scripts/cleanup/organize-project.sh` - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üóÇÔ∏è –ê—Ä—Ö–∏–≤

–í—Å–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤:
- `archive/legacy_compose/` - –°—Ç–∞—Ä—ã–µ docker-compose —Ñ–∞–π–ª—ã
- `archive/legacy_scripts/` - –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
- `archive/old_deployments/` - –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `archive/deprecated_configs/` - –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
docker-compose -f docker-compose.bot.local.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs aisha-bot-primary-local --tail 20 -f
```

### –ü—Ä–æ–¥–∞–∫—à–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
./scripts/production/deploy-fixed-bot.sh

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
ssh aisha@192.168.0.10 'cd /opt/aisha-backend && ./scripts/production/monitor-errors.sh'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
ssh aisha@192.168.0.10 'cd /opt/aisha-backend && ./scripts/production/check-transcription.sh'
```

## üîß –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –°–µ—Ä–≤–∏—Å—ã
- **PostgreSQL**: 192.168.0.4:5432
- **Redis**: 192.168.0.3:6379  
- **MinIO**: 192.168.0.4:9000
- **Docker Registry**: 192.168.0.4:5000
- **–ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä**: 192.168.0.10

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
- `aisha-bot-primary` - –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (polling)
- `aisha-worker-1` - –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
- `aisha-webhook-api-1/2` - FAL AI webhooks

## üìä –°—Ç–∞—Ç—É—Å

‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã polling —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- Storage permissions –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
- Worker –º–æ–¥—É–ª—å —Å–æ–∑–¥–∞–Ω
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

