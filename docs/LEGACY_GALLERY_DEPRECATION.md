# üóÑÔ∏è Legacy Gallery System Deprecation

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–∞–ª–µ—Ä–µ–∏ –±—ã–ª–∞ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ Legacy –∏ –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ deprecation:** 2025-01-XX  
**–ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –¥–∞—Ç–∞ —É–¥–∞–ª–µ–Ω–∏—è:** –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

## üîÑ –ß—Ç–æ –∑–∞–º–µ–Ω–µ–Ω–æ

### Legacy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **`app/handlers/gallery.py`** ‚Üí `app/handlers/generation/main_handler.py`
2. **`app/keyboards/gallery.py`** ‚Üí –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ generation handlers
3. **Legacy –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `main_menu.py`** ‚Üí –ù–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
1. **`app/handlers/generation/main_handler.py`** - –ì–ª–∞–≤–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. **`app/services/generation/`** - –°–µ—Ä–≤–∏—Å—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (StyleService, ImageGenerationService)
3. **`app/database/models/generation.py`** - –ú–æ–¥–µ–ª–∏ –¥–ª—è —Å—Ç–∏–ª–µ–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

## üìÅ –§–∞–π–ª—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ Legacy

### 1. `app/handlers/gallery.py`
- **–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- **–ó–∞–º–µ–Ω–∞:** `app/handlers/generation/main_handler.py`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í–µ—Å—å –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –æ—Å—Ç–∞–≤–ª–µ–Ω –ø—É—Å—Ç–æ–π —Ä–æ—É—Ç–µ—Ä –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 2. `app/keyboards/gallery.py`
- **–°—Ç–∞—Ç—É—Å:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- **–ó–∞–º–µ–Ω–∞:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ generation handlers
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Å—Ç–∞–≤–ª–µ–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ `get_gallery_menu()` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 3. `app/main.py`
- **–°—Ç–∞—Ç—É—Å:** Import –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ Legacy
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:** 
  ```python
  from app.handlers.gallery import router as gallery_router  # LEGACY: –°—Ç–∞—Ä–∞—è –≥–∞–ª–µ—Ä–µ—è
  dp.include_router(gallery_router)  # LEGACY: –°—Ç–∞—Ä–∞—è –≥–∞–ª–µ—Ä–µ—è (–ø—É—Å—Ç–æ–π —Ä–æ—É—Ç–µ—Ä)
  ```

### 4. `app/handlers/main_menu.py`
- **–°—Ç–∞—Ç—É—Å:** Legacy –∏–º–ø–æ—Ä—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–º–µ—á–µ–Ω—ã
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  ```python
  # LEGACY: from app.keyboards.gallery import get_gallery_menu
  
  # LEGACY –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  @router.callback_query(F.data == "business_gallery")
  async def show_gallery_legacy(call: CallbackQuery):
      """LEGACY –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–∞–ª–µ—Ä–µ–∏ - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –Ω–æ–≤—É—é –≥–∞–ª–µ—Ä–µ—é."""
  ```

## ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –í—Å–µ Legacy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –°—Ç–∞—Ä—ã–µ callback_data –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –ò–º–ø–æ—Ä—Ç—ã –Ω–µ –Ω–∞—Ä—É—à–µ–Ω—ã, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## üóëÔ∏è –ü–ª–∞–Ω —É–¥–∞–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (2-4 –Ω–µ–¥–µ–ª–∏)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Legacy callback_data
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Å—Ç–∞—Ä—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

### –≠—Ç–∞–ø 2: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- –£–¥–∞–ª–µ–Ω–∏–µ Legacy –∏–º–ø–æ—Ä—Ç–æ–≤  
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ `gallery.py` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—É—Ç—å

–°—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:
- `"gallery_*"` callback_data ‚Üí –ù–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ generation system
- `"business_gallery"` ‚Üí `"my_gallery"` ‚Üí –ù–æ–≤–∞—è –≥–∞–ª–µ—Ä–µ—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –ö–Ω–æ–ø–∫–∞ "üñºÔ∏è –ú–æ—è –≥–∞–ª–µ—Ä–µ—è" ‚Üí `app/handlers/generation/main_handler.py`

## üìä –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- üé® –ì–∞–ª–µ—Ä–µ—é —Å—Ç–∏–ª–µ–π —Å –ø—Ä–µ–≤—å—é
- üìä –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚ù§Ô∏è –°–∏—Å—Ç–µ–º—É –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
- üñºÔ∏è –ò—Å—Ç–æ—Ä–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üí∞ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π –±–∞–ª–∞–Ω—Å–∞
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∞

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–õ—É—á—à–∏–π UX:** 2 –∫–ª–∏–∫–∞ –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ 5-7
2. **–ë–æ–≥–∞—Ç—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –°—Ç–∏–ª–∏, —à–∞–±–ª–æ–Ω—ã, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–ª–∞–Ω—Å–æ–º:** –ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞—Ç—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î 