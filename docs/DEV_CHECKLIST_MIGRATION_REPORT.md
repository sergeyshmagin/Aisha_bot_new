# üìã –û—Ç—á–µ—Ç: –ü–µ—Ä–µ–Ω–æ—Å Developer Checklist –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

**–î–∞—Ç–∞:** 2025-05-23  
**–ó–∞–¥–∞—á–∞:** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `DEV_CHECKLIST.md` –≤ `docs/best_practices.md` –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –æ—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. üóÑÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–±–ª–µ–º–∞:** `relation "avatars" does not exist` - —Ç–∞–±–ª–∏—Ü–∞ avatars –Ω–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –î–æ–±–∞–≤–ª–µ–Ω `@validator` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è `DATABASE_URL` –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö PostgreSQL
  2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –≤ `aisha_v2/app/core/config.py`:
     ```python
     POSTGRES_HOST: "192.168.0.4"
     POSTGRES_DB: "aisha"  
     POSTGRES_USER: "aisha_user"
     POSTGRES_PASSWORD: "KbZZGJHX09KSH7r9ev4m"
     ```
  3. –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏: `python -m alembic upgrade head`

### 2. üìö –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Developer Checklist
- **–ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª:** `DEV_CHECKLIST.md` (93 —Å—Ç—Ä–æ–∫–∏)
- **–¶–µ–ª–µ–≤–æ–µ –º–µ—Å—Ç–æ:** `docs/best_practices.md` (–Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è 14)
- **–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç:**
  - 14.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (BaseService, Async/Await, –æ—à–∏–±–∫–∏)
  - 14.2 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–º–∏–≥—Ä–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä–∫–∏)  
  - 14.3 –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º (–±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)
  - 14.4 –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è (—Ç–∞–±–ª–∏—Ü–∞)
  - 14.5 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
  - 14.6 –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ

### 3. üßπ –û—á–∏—Å—Ç–∫–∞
- –£–¥–∞–ª–µ–Ω –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª `DEV_CHECKLIST.md`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –î–æ–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
sqlalchemy.exc.ProgrammingError: relation "avatars" does not exist
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
2025-05-23 18:43:57,273 - __main__ - INFO - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-05-23 18:43:57,942 - aiogram.dispatcher - INFO - Run polling for bot @KAZAI_Aisha_bot id=8063965284 - 'AI-—à–∞ –±–æ—Ç'
```
‚úÖ **–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫!**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ DATABASE_URL
@validator("DATABASE_URL", pre=True)
def assemble_db_url(cls, v: Optional[str], values: Dict[str, Any]) -> str:
    if isinstance(v, str) and v:
        return v
    return f"postgresql+asyncpg://{values.get('POSTGRES_USER')}:{values.get('POSTGRES_PASSWORD')}@{values.get('POSTGRES_HOST')}:{values.get('POSTGRES_PORT')}/{values.get('POSTGRES_DB')}"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ò—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
$ alembic history
eb97642710a3 -> create_avatars_manually (head), create avatars table manually
291dbd04d153 -> eb97642710a3, create_avatars_table
...

# –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL
DATABASE_URL: postgresql+asyncpg://aisha_user:KbZZGJHX09KSH7r9ev4m@192.168.0.4:5432/aisha
```

## üìñ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ù–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã –≤ `docs/best_practices.md`:
- **–†–∞–∑–¥–µ–ª 14:** Developer Checklist (–ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:** BaseService –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- **–¢–∞–±–ª–∏—Ü–∞ –æ—à–∏–±–æ–∫:** –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
- **–ß–µ–∫–ª–∏—Å—Ç—ã:** –ü–æ—à–∞–≥–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### –£–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏** –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª 14 –≤ `docs/best_practices.md`
2. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å** BaseService –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
3. **–ü—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–∞ –Ω–æ–≤—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö
4. **–°–ª–µ–¥–æ–≤–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç—É** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º

---

**–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! ‚ú®**

**–í—Å–µ –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞, –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.** 