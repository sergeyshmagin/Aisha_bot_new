# üìã –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ Aisha Backend

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç—ã

#### –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ)
- `scripts/production/deploy-with-registry.sh` - **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Docker Registry**
- `scripts/production/fix-environment.sh` - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏—è**
- `scripts/production/safe-cleanup.sh` - **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**
- `scripts/docker-registry/setup-insecure-registry.sh` - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP registry**
- `scripts/docker-registry/setup-https-registry.sh` - **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS registry**

#### Legacy (—Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- `scripts/deploy-to-production.sh` - –°—Ç–∞—Ä—ã–π –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç
- `scripts/production/deploy-production-final.sh` - –£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
- `scripts/production/deploy_production_minimal.sh` - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
- `scripts/deployment/deploy-production.sh` - –î—É–±–ª–∏—Ä—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üîß –£—Ç–∏–ª–∏—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `scripts/check-production.sh` - **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–¥–∞–∫—à–Ω**
- `scripts/utils/health-check.sh` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
- `scripts/utils/debug-transcription.sh` - –û—Ç–ª–∞–¥–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- `scripts/monitoring/monitor-production.sh` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–∞–∫—à–Ω
- `scripts/monitoring/monitor-cluster.sh` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `scripts/production/fix-standby-bot.sh` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ standby –±–æ—Ç–æ–º
- `scripts/production/deploy-transcription-fix.sh` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- `scripts/utils/make-executable.sh` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### üåê Nginx –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### Nginx
- `scripts/deploy-nginx.sh` - –î–µ–ø–ª–æ–π Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `scripts/nginx-management.sh` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx
- `scripts/infrastructure/nginx-management.sh` - –î—É–±–ª–∏—Ä—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- `scripts/setup-production-server.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–∞
- `scripts/infrastructure/production-setup.sh` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `scripts/infrastructure/registry-setup.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞

### üê≥ Docker –∏ Registry

#### Registry
- `scripts/setup-registry.sh` - –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ registry
- `scripts/deploy/setup-registry.sh` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `scripts/deploy/fix-registry.sh` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º registry

#### Docker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `scripts/cleanup/cleanup-docker.sh` - –û—á–∏—Å—Ç–∫–∞ Docker —Ä–µ—Å—É—Ä—Å–æ–≤
- `scripts/deployment/setup-production-docker.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
- `scripts/deployment/push-images.sh` - Push –æ–±—Ä–∞–∑–æ–≤ –≤ registry

### üîÑ Webhook –∏ API

- `scripts/deploy-webhook-prod.sh` - –î–µ–ø–ª–æ–π webhook –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
- `scripts/deploy/webhook-complete.sh` - –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π webhook
- `scripts/deploy/setup-autostart.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- `scripts/deploy-local.sh` - –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
- `scripts/check-prod-readiness.sh` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
- **–î–µ–ø–ª–æ–π**: 12 —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: 4 —Å–∫—Ä–∏–ø—Ç–∞  
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: 6 —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–£—Ç–∏–ª–∏—Ç—ã**: 6 —Å–∫—Ä–∏–ø—Ç–æ–≤
- **Docker/Registry**: 8 —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ü–æ —Å—Ç–∞—Ç—É—Å—É:
- **‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ**: 8 —Å–∫—Ä–∏–ø—Ç–æ–≤
- **‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 15 —Å–∫—Ä–∏–ø—Ç–æ–≤
- **üóëÔ∏è Legacy**: 12 —Å–∫—Ä–∏–ø—Ç–æ–≤

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–∫—Ä–∏–ø—Ç–∞–º–∏

```mermaid
graph TD
    A[deploy-with-registry.sh] --> B[fix-environment.sh]
    A --> C[safe-cleanup.sh]
    B --> D[setup-insecure-registry.sh]
    E[setup-https-registry.sh] --> D
    F[monitor-production.sh] --> G[health-check.sh]
    H[deploy-nginx.sh] --> I[nginx-management.sh]
```

## üßπ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ—á–∏—Å—Ç–∫–µ

### –°–∫—Ä–∏–ø—Ç—ã –∫ —É–¥–∞–ª–µ–Ω–∏—é (–¥—É–±–ª–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª):
- `scripts/infrastructure/nginx-management.sh` (–µ—Å—Ç—å –≤ –∫–æ—Ä–Ω–µ)
- `scripts/deploy/setup-registry.sh` (–∑–∞–º–µ–Ω–µ–Ω –Ω–∞ docker-registry/)
- `scripts/deployment/deploy-production.sh` (—É—Å—Ç–∞—Ä–µ–ª)

### –°–∫—Ä–∏–ø—Ç—ã –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é:
- `scripts/deploy-to-production.sh` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É registry
- `scripts/check-production.sh` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏
- `scripts/monitoring/monitor-production.sh` - —É–ª—É—á—à–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

1. **–ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –¥–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç–æ–≤**
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `deploy-with-registry.sh`
   - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã

2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è naming**
   - –ü—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   - –î–æ–±–∞–≤–∏—Ç—å help/usage –≤ –∫–∞–∂–¥—ã–π —Å–∫—Ä–∏–ø—Ç
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üìù –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

1. **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤ `scripts/`
2. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ**: kebab-case, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: shebang, set -euo pipefail, —Ñ—É–Ω–∫—Ü–∏–∏ logging
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Å–∫—Ä–∏–ø—Ç–∞
5. **–ü—Ä–∞–≤–∞**: 755 (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ)

## üîÑ –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–î–∞—Ç–∞**: 2025-06-10  
**–í–µ—Ä—Å–∏—è**: v1.0  
**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ 