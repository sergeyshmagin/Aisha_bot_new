# ‚úÖ ENUM –ü—Ä–æ–±–ª–µ–º—ã - –°—Ç–∞—Ç—É—Å: –†–ï–®–ï–ù–û

**–î–∞—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:** 04.06.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ enum –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

## üéØ –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã

### 1. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å enum –∑–Ω–∞—á–µ–Ω–∏–π**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë–î —Å–æ–¥–µ—Ä–∂–∞–ª–∞ lowercase –∑–Ω–∞—á–µ–Ω–∏—è, SQLAlchemy –æ–∂–∏–¥–∞–ª uppercase
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö enum –∫ uppercase –≤ PostgreSQL
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

### 2. **–ü–æ–ª–µ `is_draft` –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞:** `null value in column "is_draft" violates not-null constraint`
- **–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è `is_draft` –∏–∑ –ë–î, –∑–∞–º–µ–Ω–∞ –Ω–∞ –º–µ—Ç–æ–¥ –≤ –º–æ–¥–µ–ª–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö enum –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π**
- **–ü—Ä–æ–±–ª–µ–º–∞:** SQLAlchemy –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–ª enum –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ enum —Ç–∏–ø–æ–≤ –≤ PostgreSQL
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üõ†Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ë–î –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```sql
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ enum —Ç–∏–ø–æ–≤
ALTER TYPE avatargender ADD VALUE 'MALE';
ALTER TYPE avatargender ADD VALUE 'FEMALE'; 
ALTER TYPE avatarstatus ADD VALUE 'DRAFT';
ALTER TYPE avatarstatus ADD VALUE 'COMPLETED';

-- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ uppercase
UPDATE avatars SET gender = UPPER(gender);
UPDATE avatars SET status = UPPER(status);

-- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è is_draft
ALTER TABLE avatars DROP COLUMN is_draft;
```

### –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- **–ú–æ–¥–µ–ª—å Avatar:** –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `is_draft()` –≤–º–µ—Å—Ç–æ –ø–æ–ª—è
- **–°–µ—Ä–≤–∏—Å—ã:** –£–±—Ä–∞–Ω–æ –ø–æ–ª–µ `is_draft` –∏–∑ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **Enum —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ uppercase
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π user_id
- ‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** - –±–µ–∑ enum –æ—à–∏–±–æ–∫

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã!** üéâ 