# Инструкция по настройке Telegram Token

## Проблема
Приложение не запускается с ошибкой:
```
aiogram.utils.token.TokenValidationError: Token is invalid!
```

## Причина
В файле `.env` не установлен валидный токен Telegram бота.

## Решение

### 1. Создание бота в Telegram
1. Откройте Telegram и найдите **@BotFather**
2. Отправьте команду `/newbot` для создания нового бота
3. Введите имя бота (например: "Aisha v2 Test Bot")
4. Введите username бота (должен заканчиваться на "bot", например: "aisha_v2_test_bot")
5. BotFather пришлет вам токен в формате: `1234567890:ABCdefGhIJKlmnoPQRSTuvwxyz`

### 2. Настройка файла .env
1. Скопируйте файл `env.example` в `.env`:
   ```bash
   cp env.example .env
   ```

2. Откройте файл `.env` в текстовом редакторе

3. Найдите строку:
   ```
   TELEGRAM_TOKEN=
   ```

4. Вставьте ваш токен:
   ```
   TELEGRAM_TOKEN=1234567890:ABCdefGhIJKlmnoPQRSTuvwxyz
   ```

### 3. Дополнительные настройки (опционально)

Также рекомендуется настроить другие переменные в `.env`:

```bash
# Ваш Telegram ID для админ-доступа
TELEGRAM_ADMIN_IDS=ваш_telegram_id

# OpenAI API ключ для транскрибации
OPENAI_API_KEY=ваш_openai_ключ

# FAL AI ключ для генерации аватаров  
FAL_API_KEY=ваш_fal_ключ
```

### 4. Проверка настройки

После настройки токена запустите приложение:
```bash
python -m app.main
```

Если токен валидный, вы увидите:
```
INFO - Bot started successfully
INFO - Webhook configured: ...
```

## ⚠️ Важные замечания

1. **Никогда не публикуйте токен** в git-репозитории или публичных местах
2. **Файл `.env` в .gitignore** - он не должен попадать в систему контроля версий
3. **Тестовый режим** - для разработки создайте отдельного тестового бота
4. **Продакшен** - для продакшена используйте другого бота и токен

## Альтернативный способ (переменные окружения)

Вместо файла `.env` можно установить переменную окружения:

### Windows
```cmd
set TELEGRAM_TOKEN=ваш_токен
python -m app.main
```

### Linux/Mac
```bash
export TELEGRAM_TOKEN=ваш_токен
python -m app.main
```

## Проверка токена

Если сомневаетесь в валидности токена, проверьте его:
```bash
curl "https://api.telegram.org/bot<ваш_токен>/getMe"
```

Валидный токен вернет информацию о боте. 