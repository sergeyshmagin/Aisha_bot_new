"""
–¢–µ–∫—Å—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤
"""
from typing import Dict, Any
from app.database.models import AvatarType, AvatarGender


class AvatarTexts:
    """–ö–ª–∞—Å—Å —Å —Ç–µ–∫—Å—Ç–∞–º–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤"""

    def get_main_menu_text(self, avatars_count: int = 0) -> str:
        """–¢–µ–∫—Å—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –∞–≤–∞—Ç–∞—Ä–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –¥–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏)"""
        if avatars_count == 0:
            return (
                "üé≠ **–ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã** ‚≠ê\n\n"
                "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ AI –º–æ–¥–µ–ª–∏ —Å–≤–æ–µ–≥–æ –ª–∏—Ü–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤!\n\n"
                "‚ú® **–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:**\n"
                "‚Ä¢ üéØ –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ª–∏—Ü–∞\n"
                "‚Ä¢ ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±—É—á–µ–Ω–∏–µ (3-15 –º–∏–Ω—É—Ç)\n"
                "‚Ä¢ üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n"
                "‚Ä¢ üì∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ª—é–¥–µ–π\n\n"
                "üöÄ **–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å:**\n"
                "1. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏\n"
                "2. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –∞–≤–∞—Ç–∞—Ä–∞\n"
                "3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ 10-20 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n"
                "4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ\n\n"
                "üÜï –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä!"
            )
        else:
            return (
                f"üé≠ **–ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã** ({avatars_count}) ‚≠ê\n\n"
                "–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ AI –º–æ–¥–µ–ª—è–º–∏:\n\n"
                "üìÅ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–≤–∞—Ç–∞—Ä—ã\n"
                "üé® –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã\n"
                "üÜï –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏\n\n"
                "üí° **–°–æ–≤–µ—Ç:** –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ª—é–¥–µ–π\n\n"
                "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∏–∂–µ:"
            )

    def get_type_selection_text(self) -> str:
        """–¢–µ–∫—Å—Ç –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∞–≤–∞—Ç–∞—Ä–∞"""
        return (
            "üé≠ **–¢–∏–ø –∞–≤–∞—Ç–∞—Ä–∞**\n\n"
            "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø AI –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:\n\n"
            "üë§ **–ü–µ—Ä—Å–æ–Ω–∞–∂** ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤\n"
            "‚îî –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ –ª—é–¥–µ–π, –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤, —Å–µ–ª—Ñ–∏\n\n"
            "üé® **–°—Ç–∏–ª—å** ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ\n"
            "‚îî –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞—Ä—Ç-—Ä–∞–±–æ—Ç, –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π, –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤\n\n"
            "‚öôÔ∏è **–ö–∞—Å—Ç–æ–º–Ω—ã–π** ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n"
            "‚îî –î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ—Å–æ–±—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏"
        )

    def get_gender_selection_text(self, avatar_type: AvatarType) -> str:
        """–¢–µ–∫—Å—Ç –≤—ã–±–æ—Ä–∞ –ø–æ–ª–∞ –∞–≤–∞—Ç–∞—Ä–∞"""
        if avatar_type == AvatarType.CHARACTER:
            return (
                "üë• **–ü–æ–ª –ø–µ—Ä—Å–æ–Ω–∞–∂–∞**\n\n"
                "–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏:\n\n"
                "üë® **–ú—É–∂—Å–∫–æ–π** ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º—É–∂—Å–∫–∏—Ö —á–µ—Ä—Ç\n"
                "üë© **–ñ–µ–Ω—Å–∫–∏–π** ‚Äî –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∂–µ–Ω—Å–∫–∏—Ö —á–µ—Ä—Ç\n"
                "ü§ñ **–î—Ä—É–≥–æ–µ** ‚Äî –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å\n\n"
                "üí° *–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç AI –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏*"
            )
        else:
            return (
                "‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏**\n\n"
                "–í—ã–±–µ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤—É –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:\n\n"
                "üë® **–ú—É–∂—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞** ‚Äî –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –º—É–∂—Å–∫–∏–µ –æ–±—Ä–∞–∑—ã\n"
                "üë© **–ñ–µ–Ω—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞** ‚Äî –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∂–µ–Ω—Å–∫–∏–µ –æ–±—Ä–∞–∑—ã\n"
                "ü§ñ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è** ‚Äî –°–º–µ—à–∞–Ω–Ω–∞—è –æ—Å–Ω–æ–≤–∞\n\n"
                "üí° *–í–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π*"
            )

    def get_name_input_text(self, gender: AvatarGender) -> str:
        """–¢–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–º–µ–Ω–∏ –∞–≤–∞—Ç–∞—Ä–∞"""
        gender_emoji = {"male": "üë®", "female": "üë©", "other": "ü§ñ"}
        gender_text = {"male": "–ú—É–∂—Å–∫–æ–π", "female": "–ñ–µ–Ω—Å–∫–∏–π", "other": "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π"}
        
        return (
            f"{gender_emoji.get(gender.value, 'ü§ñ')} **–ò–º—è –∞–≤–∞—Ç–∞—Ä–∞**\n\n"
            f"–ü–æ–ª: {gender_text.get(gender.value, '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π')}\n\n"
            "–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –¥–ª—è –≤–∞—à–µ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞:\n\n"
            "üìù **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n"
            "‚Ä¢ –û—Ç 2 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤\n"
            "‚Ä¢ –õ—é–±—ã–µ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã\n"
            "‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –¥–ª—è –≤–∞—à–∏—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤\n\n"
            "üí° *–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–ª–µ–∫—Å–µ–π, Maya, Cyberpunk2077*\n\n"
            "‚úçÔ∏è –ù–∞–ø–∏—à–∏—Ç–µ –∏–º—è:"
        )

    def get_photo_upload_text(self, name: str, current_count: int, min_photos: int) -> str:
        """–¢–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π"""
        progress_bar = self._create_progress_bar(current_count, min_photos)
        
        if current_count == 0:
            return (
                f"üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è '{name}'**\n\n"
                f"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: {progress_bar} {current_count}/{min_photos}\n\n"
                "–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è AI –º–æ–¥–µ–ª–∏:\n\n"
                "‚úÖ **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n"
                "‚Ä¢ –†–∞–∑–Ω—ã–µ —Ñ–æ—Ç–æ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤\n"
                "‚Ä¢ –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ\n"
                "‚Ä¢ –†–∞–∑–Ω—ã–µ —É–≥–ª—ã –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è\n"
                "‚Ä¢ –§–æ—Ä–º–∞—Ç: JPG, PNG (–¥–æ 20MB)\n\n"
                f"üìà **–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º:** {min_photos} —Ñ–æ—Ç–æ\n"
                f"üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 15-20 —Ñ–æ—Ç–æ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞\n\n"
                "üì§ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ:"
            )
        else:
            remaining = max(0, min_photos - current_count)
            if remaining > 0:
                return (
                    f"üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è '{name}'**\n\n"
                    f"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: {progress_bar} {current_count}/{min_photos}\n\n"
                    f"‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: {current_count} —Ñ–æ—Ç–æ\n"
                    f"üìà –î–æ –º–∏–Ω–∏–º—É–º–∞: {remaining} —Ñ–æ—Ç–æ\n\n"
                    "üéØ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏!\n\n"
                    "üí° **–°–æ–≤–µ—Ç—ã:**\n"
                    "‚Ä¢ –†–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–∏ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è\n"
                    "‚Ä¢ –†–∞–∑–ª–∏—á–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ\n"
                    "‚Ä¢ –†–∞–∑–Ω—ã–µ —É–≥–ª—ã —Å—ä–µ–º–∫–∏\n"
                    "‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤"
                )
            else:
                return (
                    f"üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è '{name}'**\n\n"
                    f"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: {progress_bar} {current_count}/{min_photos} ‚úÖ\n\n"
                    f"üéâ **–û—Ç–ª–∏—á–Ω–æ!** –ó–∞–≥—Ä—É–∂–µ–Ω–æ {current_count} —Ñ–æ—Ç–æ\n\n"
                    "‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∏–Ω–∏–º—É–º –¥–ª—è –æ–±—É—á–µ–Ω–∏—è!\n"
                    "üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É AI –æ–±—É—á–µ–Ω–∏—è\n\n"
                    "üì§ –ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ —Ñ–æ—Ç–æ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞\n"
                    "üéØ –ò–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –æ–±—É—á–µ–Ω–∏—é –º–æ–¥–µ–ª–∏!"
                )

    def get_photo_upload_instruction_text(self) -> str:
        """–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π"""
        return (
            "üì∏ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π**\n\n"
            "üì± **–ö–∞–∫ –∑–∞–≥—Ä—É–∂–∞—Ç—å:**\n"
            "‚Ä¢ –ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –≤ —á–∞—Ç\n"
            "‚Ä¢ –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ –æ–¥–Ω–æ–π –∏–ª–∏ –≥—Ä—É–ø–ø–∞–º–∏\n"
            "‚Ä¢ –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥–æ–µ —Ñ–æ—Ç–æ\n\n"
            "‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**\n"
            "‚Ä¢ –ß–µ—Ç–∫–∏–µ —Ñ–æ—Ç–æ –±–µ–∑ —Ä–∞–∑–º—ã—Ç–∏—è\n"
            "‚Ä¢ –†–∞–∑–Ω—ã–µ –ø–æ–∑—ã –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è\n"
            "‚Ä¢ –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ\n"
            "‚Ä¢ –ë–µ–∑ —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –æ—á–∫–æ–≤\n"
            "‚Ä¢ –õ–∏—Ü–æ –≤–∏–¥–Ω–æ —Ü–µ–ª–∏–∫–æ–º\n\n"
            "üö´ **–ò–∑–±–µ–≥–∞–π—Ç–µ:**\n"
            "‚Ä¢ –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ñ–æ—Ç–æ\n"
            "‚Ä¢ –°–∏–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã\n"
            "‚Ä¢ –û—á–µ–Ω—å —Ç–µ–º–Ω—ã–µ —Ñ–æ—Ç–æ\n"
            "‚Ä¢ –î—É–±–ª–∏–∫–∞—Ç—ã\n\n"
            "üì§ –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:"
        )

    def get_training_confirmation_text(self, name: str, photos_count: int) -> str:
        """–¢–µ–∫—Å—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è"""
        return (
            f"üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –æ–±—É—á–µ–Ω–∏—é!**\n\n"
            f"üé≠ –ê–≤–∞—Ç–∞—Ä: **{name}**\n"
            f"üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: **{photos_count}**\n\n"
            "ü§ñ **–ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è:**\n"
            "‚Ä¢ ‚è±Ô∏è –í—Ä–µ–º—è: 15-30 –º–∏–Ω—É—Ç\n"
            "‚Ä¢ üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞\n"
            "‚Ä¢ üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n"
            "‚Ä¢ ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏\n\n"
            "üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å:** 10 –∫—Ä–µ–¥–∏—Ç–æ–≤\n"
            f"üìã **–†–µ–∂–∏–º:** {'üß™ –¢–µ—Å—Ç–æ–≤—ã–π (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)' if True else 'üíé –ü—Ä–æ–¥—É–∫—Ü–∏—è'}\n\n"
            "‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –æ–±—É—á–µ–Ω–∏—è –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ–ª—å–∑—è\n\n"
            "üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ AI –º–æ–¥–µ–ª–∏?"
        )

    def get_training_progress_text(self, progress_info: Dict[str, Any]) -> str:
        """–¢–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è"""
        status = progress_info.get("status", "unknown")
        progress = progress_info.get("progress", 0)
        avatar_id = progress_info.get("avatar_id", "")
        
        # –≠–º–æ–¥–∑–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
        status_info = {
            "draft": ("üìù", "–ß–µ—Ä–Ω–æ–≤–∏–∫"),
            "uploading": ("üì§", "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ"),
            "ready": ("‚úÖ", "–ì–æ—Ç–æ–≤ –∫ –æ–±—É—á–µ–Ω–∏—é"),
            "training": ("üîÑ", "–û–±—É—á–∞–µ—Ç—Å—è"),
            "completed": ("‚úÖ", "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"),
            "error": ("‚ùå", "–û—à–∏–±–∫–∞"),
            "cancelled": ("üö´", "–û—Ç–º–µ–Ω–µ–Ω–æ")
        }
        
        emoji, status_text = status_info.get(status, ("‚ùì", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"))
        
        # –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        text = f"{emoji} **{status_text}**\n\n"
        
        if status == "training":
            # –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
            progress_bar = self._create_progress_bar(progress, 100, width=15)
            text += (
                f"üìä **–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è:** {progress}%\n"
                f"{progress_bar}\n\n"
                "ü§ñ **–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:**\n"
                "‚Ä¢ –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n"
                "‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏\n"
                "‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏\n\n"
                "‚è±Ô∏è **–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è:** ~15-30 –º–∏–Ω\n"
                "üì± –£–≤–µ–¥–æ–º–∏–º –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏!"
            )
            
        elif status == "completed":
            # –û–±—É—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
            completed_at = progress_info.get("training_completed_at")
            duration = progress_info.get("training_duration_seconds", 0)
            
            text += (
                "üéâ **–ê–≤–∞—Ç–∞—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**\n\n"
                "‚úÖ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**\n"
                "‚Ä¢ üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n"
                "‚Ä¢ üé≠ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤\n"
                "‚Ä¢ ‚ú® –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏\n\n"
            )
            
            if duration > 0:
                duration_text = self._format_duration(duration)
                text += f"‚è±Ô∏è **–í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:** {duration_text}\n"
                
        elif status == "error":
            # –û—à–∏–±–∫–∞ –æ–±—É—á–µ–Ω–∏—è
            error_msg = progress_info.get("fal_status", {}).get("message", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞")
            text += (
                "üíî **–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏**\n\n"
                f"üìù **–î–µ—Ç–∞–ª–∏:** {error_msg}\n\n"
                "üîß **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**\n"
                "‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n"
                "‚Ä¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ\n"
                "‚Ä¢ –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É\n\n"
                "üí° –ú—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω–µ–º –∫—Ä–µ–¥–∏—Ç—ã"
            )
            
        elif status == "cancelled":
            # –û–±—É—á–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ
            text += (
                "üö´ **–û–±—É—á–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ**\n\n"
                "‚úÖ **–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n"
                "‚Ä¢ üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ\n"
                "‚Ä¢ üì∏ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n"
                "‚Ä¢ ‚öôÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n\n"
                "üí∞ –ö—Ä–µ–¥–∏—Ç—ã –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ –±–∞–ª–∞–Ω—Å"
            )
            
        elif status == "ready":
            # –ì–æ—Ç–æ–≤ –∫ –æ–±—É—á–µ–Ω–∏—é
            photos_count = progress_info.get("photos_count", 0)
            text += (
                f"üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–æ:** {photos_count}\n\n"
                "üöÄ **–ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –æ–±—É—á–µ–Ω–∏—è!**\n\n"
                "‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\n"
                "üéØ –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ AI –º–æ–¥–µ–ª–∏\n\n"
                "üí° –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç 15-30 –º–∏–Ω—É—Ç"
            )
            
        else:
            # –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å
            text += (
                f"üìã **ID –∞–≤–∞—Ç–∞—Ä–∞:** {avatar_id[:8]}...\n"
                f"üìä **–ü—Ä–æ–≥—Ä–µ—Å—Å:** {progress}%\n\n"
                "üîÑ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É"
            )
        
        return text

    def get_gallery_text(self, avatars_count: int) -> str:
        """–¢–µ–∫—Å—Ç –≥–∞–ª–µ—Ä–µ–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤"""
        if avatars_count == 0:
            return (
                "üìÅ **–ú–æ–∏ –∞–≤–∞—Ç–∞—Ä—ã**\n\n"
                "üîç –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤\n\n"
                "üÜï –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∞–≤–∞—Ç–∞—Ä —á—Ç–æ–±—ã:\n"
                "‚Ä¢ üé® –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n"
                "‚Ä¢ üé≠ –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã\n"
                "‚Ä¢ ‚ú® –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å—Ç–∏–ª—è–º–∏\n\n"
                "üëÜ –ù–∞–∂–º–∏—Ç–µ \"–°–æ–∑–¥–∞—Ç—å –∞–≤–∞—Ç–∞—Ä\" —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!"
            )
        else:
            return (
                f"üìÅ **–ú–æ–∏ –∞–≤–∞—Ç–∞—Ä—ã** ({avatars_count})\n\n"
                "–í–∞—à–∏ AI –º–æ–¥–µ–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:\n\n"
                "üé® –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏\n"
                "‚öôÔ∏è –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏\n"
                "üìä –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É\n\n"
                "–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä:"
            )

    def _create_progress_bar(self, current: int, target: int, width: int = 10) -> str:
        """–°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–æ—Å—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞"""
        if target <= 0:
            return "‚ñà" * width
        
        progress = min(1.0, current / target)
        filled = int(progress * width)
        empty = width - filled
        
        return "‚ñà" * filled + "‚ñë" * empty

    def _format_duration(self, seconds: float) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥"""
        if seconds < 60:
            return f"{int(seconds)} —Å–µ–∫"
        elif seconds < 3600:
            return f"{int(seconds // 60)} –º–∏–Ω"
        else:
            hours = int(seconds // 3600)
            minutes = int((seconds % 3600) // 60)
            return f"{hours}—á {minutes}–º"
# –í—Å–µ —Ç–µ–∫—Å—Ç—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ–∂–¥—É –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–º –∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç–∏–ø–∞–º–∏ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
# —Ç–∞–∫ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª—å—é –∫–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º 