# ü§ñ Aisha Bot v2

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∞—É–¥–∏–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI/ML —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üé§ **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç
- üìù **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞** - —Ä–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ (.txt)
- ü§ñ **AI —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫—Ä–∞—Ç–∫–∏—Ö —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–π, —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- üìú **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞–º–∏
- üé® **–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å —ç–º–æ–¥–∑–∏ –∏ inline-–∫–Ω–æ–ø–∫–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: Python 3.11+, aiogram 3.x, SQLAlchemy (async)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤**: MinIO
- **AI/ML**: OpenAI API
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose (WSL2)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
aisha_v2/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ core/           # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (DI, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram
‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ database/       # –ú–æ–¥–µ–ª–∏ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/      # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ shared/         # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docker/            # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.bot # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.api # API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ nginx/         # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- PostgreSQL 15+
- MinIO
- OpenAI API –∫–ª—é—á
- **üê≥ WSL2 + Docker Desktop** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd Aisha_bot_new
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# –∏–ª–∏
.venv\Scripts\activate     # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

5. **–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π**
```bash
cd aisha_v2
alembic upgrade head
```

6. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**
```bash
python run.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Telegram Bot
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/aisha_bot

# MinIO Storage
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false

# OpenAI
OPENAI_API_KEY=sk-your_openai_key_here

# Optional
REDIS_URL=redis://localhost:6379/0
LOG_LEVEL=INFO
```

### üê≥ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**üìã –ü–†–ò–û–†–ò–¢–ï–¢:** Unified Docker –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è dev‚Üîprod.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```
üè† Development (WSL2): –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (bot + api) ‚Üí –≤–Ω–µ—à–Ω–∏–µ –ë–î
üåê Production: –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (bot + api + nginx) ‚Üí —Ç–µ –∂–µ –≤–Ω–µ—à–Ω–∏–µ –ë–î
```

#### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Development (WSL2)
```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã
# PostgreSQL, Redis, MinIO –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.docker.template .env.docker.dev
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å –∞–¥—Ä–µ—Å–∞–º–∏ –≤–∞—à–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
# DATABASE_HOST=localhost (–∏–ª–∏ IP —Å–µ—Ä–≤–µ—Ä–∞)
# REDIS_HOST=localhost (–∏–ª–∏ IP —Å–µ—Ä–≤–µ—Ä–∞) 
# MINIO_ENDPOINT=localhost:9000 (–∏–ª–∏ IP:PORT)

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
chmod +x docker/scripts/health-check.sh
./docker/scripts/health-check.sh

# 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
docker-compose up -d

# 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
docker-compose exec aisha-bot alembic upgrade head

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose ps
curl http://localhost:8443/health
```

#### Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# 1. –ù–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/aisha-v2
cp env.docker.template .env.docker.prod
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–¥—Ä–µ—Å–∞ –≤–∞—à–∏—Ö –ë–î —Å–µ—Ä–≤–∏—Å–æ–≤

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./docker/scripts/health-check.sh

# 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./docker/scripts/deploy.sh

# 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemd
sudo systemctl status aisha-bot
```

**üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [`DOCKER_QUICKSTART.md`](DOCKER_QUICKSTART.md)
- **–ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω:** [`docs/plans/DOCKER_MIGRATION_PLAN.md`](docs/plans/DOCKER_MIGRATION_PLAN.md)

**üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Unified –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –≤ dev –∏ prod
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ—Ç–∞:** –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –Ω–µ –ë–î —Å–µ—Ä–≤–∏—Å–æ–≤  
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ë–î
- ‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –û–¥–Ω–∏ –∏ —Ç–µ –∂–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –≤–µ–∑–¥–µ
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/transcribe` - –ú–µ–Ω—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- `/history` - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
```
–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    ‚Üì üé§ –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è
–ú–µ–Ω—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ üé§ –ê—É–¥–∏–æ          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ/–≥–æ–ª–æ—Å–æ–≤—ã—Ö
    ‚îú‚îÄ‚îÄ üìù –¢–µ–∫—Å—Ç          # –û–±—Ä–∞–±–æ—Ç–∫–∞ .txt —Ñ–∞–π–ª–æ–≤
    ‚îî‚îÄ‚îÄ üìú –ò—Å—Ç–æ—Ä–∏—è        # –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤
        ‚Üì –í—ã–±–æ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞
    –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞
        ‚îú‚îÄ‚îÄ üìÑ –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
        ‚îú‚îÄ‚îÄ ‚úÖ –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
        ‚îî‚îÄ‚îÄ üìã –ü—Ä–æ—Ç–æ–∫–æ–ª
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **–ê—É–¥–∏–æ**: MP3, WAV, OGG, M4A (–≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram)
- **–¢–µ–∫—Å—Ç**: TXT —Ñ–∞–π–ª—ã –≤ UTF-8

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **Async –≤–µ–∑–¥–µ** - –≤—Å–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
- **Dependency Injection** - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - handlers, services, repositories
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ type hints

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
```python
# –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–±–µ–∑ Legacy)
handlers/
‚îú‚îÄ‚îÄ main.py                     # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îú‚îÄ‚îÄ transcript_main.py          # –ò—Å—Ç–æ—Ä–∏—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îî‚îÄ‚îÄ transcript_processing.py    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ/—Ç–µ–∫—Å—Ç–∞
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# Unit —Ç–µ—Å—Ç—ã
pytest tests/unit/

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
pytest tests/integration/

# –í—Å–µ —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=aisha_v2 --cov-report=html
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è
flake8 aisha_v2/
mypy aisha_v2/

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
black aisha_v2/
isort aisha_v2/
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [`docs/architecture.md`](docs/architecture.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [`docs/best_practices.md`](docs/best_practices.md) - –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [`docs/async_and_safety.md`](docs/async_and_safety.md) - Async Python –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [`docs/navigation_transcript.md`](docs/navigation_transcript.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### üé® –°–∏—Å—Ç–µ–º–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤
- [`docs/avatars_architecture.md`](docs/avatars_architecture.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∞–≤–∞—Ç–∞—Ä–æ–≤
- [`docs/avatar_implementation_plan.md`](docs/avatar_implementation_plan.md) - –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤

### ü§ñ FAL AI Knowledge Base
- [`docs/fal_knowlege_base/README.md`](docs/fal_knowlege_base/README.md) - –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π FAL AI
- [`docs/fal_knowlege_base/flux-lora-portrait-trainer-api.md`](docs/fal_knowlege_base/flux-lora-portrait-trainer-api.md) - Portrait Trainer API
- [`docs/fal_knowlege_base/flux-pro-trainer.md`](docs/fal_knowlege_base/flux-pro-trainer.md) - Pro Trainer API
- [`docs/fal_knowlege_base/fal-ai-models-comparison.md`](docs/fal_knowlege_base/fal-ai-models-comparison.md) - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
```
[AUDIO] –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è user_id=123
[DB] –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
[MINIO] –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: transcripts/user123/file.txt
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **"Bad Request: there is no text in the message to edit"**
   - –†–µ—à–µ–Ω–∏–µ: Fallback –Ω–∞ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–∏–ø–æ–≤ BaseModel**
   - –†–µ—à–µ–Ω–∏–µ: –Ø–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã `from aiogram.types import InlineKeyboardButton`

3. **–û—à–∏–±–∫–∏ MinIO –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MINIO_ENDPOINT –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature-–≤–µ—Ç–∫—É (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞
- –°–ª–µ–¥—É–π—Ç–µ PEP8
- –î–æ–±–∞–≤–ª—è–π—Ç–µ type hints
- –ü–∏—à–∏—Ç–µ docstrings –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ –∫–æ–¥ —Ç–µ—Å—Ç–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async/await –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [aiogram](https://github.com/aiogram/aiogram) - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- [SQLAlchemy](https://www.sqlalchemy.org/) - Python SQL toolkit
- [MinIO](https://min.io/) - –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- [OpenAI](https://openai.com/) - AI/ML API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞

---

**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-05-23  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ 